<!DOCTYPE html>
<html lang="en-us">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='JuHye&amp;rsquo;s Final Project: Portable MIDI Keyboard Controller Description:
Weight:
Why a MIDI keyboard? As a Californian who flies back and forth to Boston for school, I often find myself forced to leave behind my instruments on the other side of the country. This is a huge barrier as a musician. Recently, during quarantine, I bought a MIDI keyboard that I love to play and write with. Unfortunately, I know it&amp;rsquo;s only a matter of time before I have to say goodbye to it when I come back to campus in the fall (no jinx&amp;hellip;).'><title>Finished Final Project</title>

<link rel='canonical' href='https://juhye-m.github.io/ps70/posts/finalproject/'>

<link rel="stylesheet" href="/ps70/scss/style.min.css"><meta property='og:title' content='Finished Final Project'>
<meta property='og:description' content='JuHye&amp;rsquo;s Final Project: Portable MIDI Keyboard Controller Description:
Weight:
Why a MIDI keyboard? As a Californian who flies back and forth to Boston for school, I often find myself forced to leave behind my instruments on the other side of the country. This is a huge barrier as a musician. Recently, during quarantine, I bought a MIDI keyboard that I love to play and write with. Unfortunately, I know it&amp;rsquo;s only a matter of time before I have to say goodbye to it when I come back to campus in the fall (no jinx&amp;hellip;).'>
<meta property='og:url' content='https://juhye-m.github.io/ps70/posts/finalproject/'>
<meta property='og:site_name' content='JuHye Mun'>
<meta property='og:type' content='article'><meta property='article:section' content='Posts' /><meta property='article:published_time' content='2021-05-12T03:29:48-07:00'/><meta property='article:modified_time' content='2021-05-12T03:29:48-07:00'/>
<meta name="twitter:title" content="Finished Final Project">
<meta name="twitter:description" content="JuHye&amp;rsquo;s Final Project: Portable MIDI Keyboard Controller Description:
Weight:
Why a MIDI keyboard? As a Californian who flies back and forth to Boston for school, I often find myself forced to leave behind my instruments on the other side of the country. This is a huge barrier as a musician. Recently, during quarantine, I bought a MIDI keyboard that I love to play and write with. Unfortunately, I know it&amp;rsquo;s only a matter of time before I have to say goodbye to it when I come back to campus in the fall (no jinx&amp;hellip;).">
    </head>
    <body class="article-page keep-sidebar">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            localStorage.setItem(colorSchemeKey, "auto");
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.body.dataset.scheme = 'dark';
        } else {
            document.body.dataset.scheme = 'light';
        }
    })();
</script><div class="container main-container flex on-phone--column compact ">
            <aside class="sidebar left-sidebar sticky">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="Toggle Menu">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header class="site-info">
        
            <figure class="site-avatar">
                
                    
                    
                    
                        
                        <img src="/ps70/img/avatar_hue776a334b902d7828bf5c7a8aa11ccb3_243528_300x0_resize_q75_box.jpg" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                

                
                    <span class="emoji">ðŸ‘¾</span>
                
            </figure>
        
        <h1 class="site-name"><a href="https://juhye-m.github.io/ps70/">JuHye Mun</a></h1>
        <h2 class="site-description">Blog for PS70</h2>
    </header>

    <ol class="menu" id="main-menu">
        
        
        

        <li >
            <a href='/ps70/'>
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>Home</span>
            </a>
        </li>
        
        

        <li >
            <a href='/ps70/about'>
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>About</span>
            </a>
        </li>
        

        
    </ol>
</aside>

            <main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    

    <h2 class="article-title">
        <a href="/ps70/posts/finalproject/">Finished Final Project</a>
    </h2>

    <footer class="article-time">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



        <time class="article-time--published">May 12, 2021</time>
    </footer></div>
</header>

    <section class="article-content">
    <h1 id="juhyes-final-project-portable-midi-keyboard-controller">JuHye&rsquo;s Final Project: Portable MIDI Keyboard Controller</h1>
<!-- raw HTML omitted -->
<p>Description:</p>
<p>Weight:</p>
<h2 id="why-a-midi-keyboard">Why a MIDI keyboard?</h2>
<p>As a Californian who flies back and forth to Boston for school, I often find myself forced to leave behind my instruments on the other side of the country. This is a huge barrier as a musician.
Recently, during quarantine, I bought a MIDI keyboard that I love to play and write with. Unfortunately, I know it&rsquo;s only a matter of time before I have to say goodbye to it when I come back to campus in the fall (no jinx&hellip;). It&rsquo;s way too bullky to travel with, at almost 10 lb.
This brought me to wanting a digital instrument that was much more lightweight.</p>
<!-- raw HTML omitted -->
<h2 id="proposal">Proposal</h2>
<p>We&rsquo;ll get right into the nitty-gritty of this DIY project. For more information on how it all works, check out the section below.</p>
<h2 id="materials">Materials</h2>
<p>For this project, we will need the following components:</p>
<ul>
<li><a class="link" href="https://www.adafruit.com/product/3505"  target="_blank" rel="noopener"
    >1 Adafruit METRO M0 Express</a></li>
<li><a class="link" href="https://www.adafruit.com/product/592"  target="_blank" rel="noopener"
    >1 Micro-USB cable</a>
<ul>
<li>Make sure it transmits data!</li>
</ul>
</li>
<li><a class="link" href="https://www.amazon.com/Conductive-Shielding-Repellent-Electrical-Grounding/dp/B0741ZRP4W"  target="_blank" rel="noopener"
    >Copper tape</a>
<ul>
<li>Dimensions depend on the size of your midi keyboard. 12 1/4 inch x 1 inch is sufficient for a small diy keyboard.</li>
</ul>
</li>
<li><a class="link" href="https://www.amazon.com/Wapodeai-Electrical-Temperature-Resistance-Waterproof/dp/B07ZWC2VLX/ref=zg_bs_256161011_1?_encoding=UTF8&amp;psc=1&amp;refRID=Z468QPXB4F43WRJ2HDTH"  target="_blank" rel="noopener"
    >Electrical tape</a>
<ul>
<li>Dimensions vary. 12 1/4 inch x 1/4 inch is sufficient for a small diy keyboard.</li>
</ul>
</li>
<li><a class="link" href="https://www.digikey.com/en/resources/resistors"  target="_blank" rel="noopener"
    >13 47 kilaohm resistors</a></li>
<li><a class="link" href="https://www.digikey.com/catalog/en/partgroup/solid-hook-up-wire/1915"  target="_blank" rel="noopener"
    >Solid core wire</a>
<ul>
<li>5+ feet suggested, to be on the safer side!</li>
</ul>
</li>
<li><a class="link" href="https://www.amazon.com/uxcell-Female-Jumper-2-54mm-Breadboard/dp/B07FM72VBF/ref=sr_1_18?crid=2TC1J87WAYC9O&amp;dchild=1&amp;keywords=electrical&#43;jumper&#43;wires&#43;female&#43;to&#43;female&amp;qid=1620902792&amp;sprefix=electrical&#43;jumper&#43;wires%2Caps%2C229&amp;sr=8-18"  target="_blank" rel="noopener"
    >13 Female to female jumper wires</a></li>
<li><a class="link" href="https://www.amazon.com/DEYUE-Solderless-Prototype-Breadboard-Points/dp/B07NVWR495/ref=sr_1_6?dchild=1&amp;keywords=breadboard&amp;qid=1619547333&amp;sr=8-6]"  target="_blank" rel="noopener"
    >1 Breadboard)</a></li>
<li>[Casing (Optional)]
<ul>
<li>3D printed keyboard (optional)</li>
<li>Cardboard (optional)</li>
<li>Plastic bin (optional)</li>
</ul>
</li>
</ul>
<h4 id="virtual-components">Virtual components</h4>
<ul>
<li><a class="link" href="https://www.apple.com/logic-pro/"  target="_blank" rel="noopener"
    >1 Digital Audio Workspace (Logic Pro X)</a>
<ul>
<li><a class="link" href="https://www.reaper.fm"  target="_blank" rel="noopener"
    >Free alternative: Reaper</a></li>
</ul>
</li>
</ul>
<h2 id="circuitry">Circuitry</h2>
<p>I knew I needed a lot of wiring to accomodate for 13 sensors, so I kept organized by first prototyping the circuit in TinkerCAD.
<figure style="flex-grow: 135; flex-basis: 325px">
		<a href="/ps70/posts/finalproject/circuit.png" data-size="1376x1016"><img src="/ps70/posts/finalproject/circuit.png"
				srcset="/ps70/posts/finalproject/circuit_hue1edbd4f61963265d30b84a429594210_349755_480x0_resize_box_2.png 480w, /ps70/posts/finalproject/circuit_hue1edbd4f61963265d30b84a429594210_349755_1024x0_resize_box_2.png 1024w"
				width="1376"
				height="1016"
				loading="lazy"
				alt="Protyping in TinkerCAD">
		</a>
		
		<figcaption>Protyping in TinkerCAD</figcaption>
		
	</figure></p>
<p><figure style="flex-grow: 133; flex-basis: 320px">
		<a href="/ps70/posts/finalproject/circuitirl.jpg" data-size="4032x3024"><img src="/ps70/posts/finalproject/circuitirl.jpg"
				srcset="/ps70/posts/finalproject/circuitirl_hu52603ea3173a47f18c6d0908a871e50a_4495720_480x0_resize_q75_box.jpg 480w, /ps70/posts/finalproject/circuitirl_hu52603ea3173a47f18c6d0908a871e50a_4495720_1024x0_resize_q75_box.jpg 1024w"
				width="4032"
				height="3024"
				loading="lazy"
				alt="Let&rsquo;s make it!">
		</a>
		
		<figcaption>Letâ€™s make it!</figcaption>
		
	</figure></p>
<p>I used 10 47k ohm resistors and 3 100k ohm resistors, due to limited supplies. Because of the different levels of resistance, I adjusted and accommodated for the difference on the software side, as I&rsquo;ll discuss later.</p>
<p>Due to the number of wires I was dealing with, it was crucial that I kept my breadboard neat. Though it was time-consuming, I trimmed all jumper wires and resistors in order to sit flatly on the breadboard. Keeping a neat circuit makes it easier to identify possible bugs and to double check connections. This came to be very helpful later during the casing stage as well.</p>
<p><figure style="flex-grow: 133; flex-basis: 320px">
		<a href="/ps70/posts/finalproject/resistorcut.jpg" data-size="4032x3024"><img src="/ps70/posts/finalproject/resistorcut.jpg"
				srcset="/ps70/posts/finalproject/resistorcut_huefa520473b1b7005080189f1939869a4_2629881_480x0_resize_q75_box.jpg 480w, /ps70/posts/finalproject/resistorcut_huefa520473b1b7005080189f1939869a4_2629881_1024x0_resize_q75_box.jpg 1024w"
				width="4032"
				height="3024"
				loading="lazy"
				alt="Trimming components">
		</a>
		
		<figcaption>Trimming components</figcaption>
		
	</figure></p>
<h2 id="part-1-midi">Part 1: MIDI</h2>
<h4 id="what-is-midi">What is MIDI?</h4>
<p>MIDI refers to a protocol for communication, digital interface, and electrical connectors  &ndash; formally called Musical Instrument Digital Interface. It was developed in the 80s. The reason why MIDI devices do not produce audio on their own is because MIDI does not provide actual audio signals. It is simply data and information that does not include audio signals.</p>
<h4 id="what-is-iac">What is IAC?</h4>
<p>IAC stands for Inter-Application Communitation. The IAC Driver is Apple&rsquo;s default MIDI device that you can use to communicate to Applications (such as Logic Pro X) that I use here. I must set up IAC drivers &ndash; it doesn&rsquo;t set itself up automatically.</p>
<h4 id="testing">Testing</h4>
<p>I used a simple button.</p>
<p>Before I worked on all of other elements, I needed to work on the software side and make sure I can run a very simple MIDI data transmission. In order to do that and to make sure that this idea would work, I set up a simple button control ciruit.
Because I wanted to avoid buying more parts including midi input and midi wires, I researched how I could use alternative ways to do this project. I found a few blogs that used &ldquo;Hairless MIDI&rdquo; which is a software that allowed access to the Arduino serial monitor and converted the data to midi. Unfortunately, it turns out that Hairless midi stopped working on the new Mac OS!! This was extrememely disappointing. However, I found a github repository that created a python version of Hairless midi. It was just one man, Ryan Kojima, who wrote this up, and there was little documentation. So, I&rsquo;ve detailed my own documentation for this program:</p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>In order for this software to work and to communicate between the DAW as well as the serial monitor for my Metro, I had to create new IAP audio inputs and outputs. These are busses that allow for the audio to be channeled later in the DAW.</p>
<p><img src="iap.png" alt="IAP"  /></p>
<p>I had some trouble getting this to work, however. I kept getting the error that my serial port was unable to open.</p>
<p><img src="err.png" alt="Error"  /></p>
<p>After trying different debugging methods, such as looking at the code carefully, checking serial monitor output, and other possible issues, I learned from Professor Melenbrink that the issue is that I can&rsquo;t have the serial monitor open in two places (so when the program runs, that counts), which I was reminded of. Then, I plugged my midi button circuit as input to my DAW, Logic Pro, and here is the result!</p>

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe loading="lazy" src="https://www.youtube.com/embed/0X2GHs5goP4" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>

<p>For my code, I used the MIDImessage Arduino function. It takes as parameters (noteON, pitch, velocity). These are decimal values, which are converted into binary. More info <a class="link" href="https://www.instructables.com/What-is-MIDI/"  target="_blank" rel="noopener"
    >here</a>!</p>
<h2 id="part-2-capacitive-touch">Part 2: Capacitive Touch</h2>
<h2 id="part-3-multiple-sensors">Part 3: Multiple Sensors</h2>
<p>First start with 2.
<figure style="flex-grow: 133; flex-basis: 320px">
		<a href="/ps70/posts/finalproject/twosense.jpg" data-size="4032x3024"><img src="/ps70/posts/finalproject/twosense.jpg"
				srcset="/ps70/posts/finalproject/twosense_hu1de0c8752766073088e6409d9f4d73ef_2871582_480x0_resize_q75_box.jpg 480w, /ps70/posts/finalproject/twosense_hu1de0c8752766073088e6409d9f4d73ef_2871582_1024x0_resize_q75_box.jpg 1024w"
				width="4032"
				height="3024"
				loading="lazy"
				alt="Two sensors">
		</a>
		
		<figcaption>Two sensors</figcaption>
		
	</figure></p>
<p>Expand to all white keys.
<figure style="flex-grow: 140; flex-basis: 337px">
		<a href="/ps70/posts/finalproject/whitekeys.jpg" data-size="4032x2865"><img src="/ps70/posts/finalproject/whitekeys.jpg"
				srcset="/ps70/posts/finalproject/whitekeys_hu1dda6257029fe8b0026f0ace7d4c2a9a_2033100_480x0_resize_q75_box.jpg 480w, /ps70/posts/finalproject/whitekeys_hu1dda6257029fe8b0026f0ace7d4c2a9a_2033100_1024x0_resize_q75_box.jpg 1024w"
				width="4032"
				height="2865"
				loading="lazy"
				alt="White keys">
		</a>
		
		<figcaption>White keys</figcaption>
		
	</figure></p>
<h2 id="part--casing">Part : Casing</h2>
<p><img src="uppercase.jpg" alt="Outside view"  /></p>
<p><figure style="flex-grow: 149; flex-basis: 359px">
		<a href="/ps70/posts/finalproject/undercase.jpg" data-size="4032x2691"><img src="/ps70/posts/finalproject/undercase.jpg"
				srcset="/ps70/posts/finalproject/undercase_huc2d3f22e1e750d6e10dfb241cbad8f21_2238928_480x0_resize_q75_box.jpg 480w, /ps70/posts/finalproject/undercase_huc2d3f22e1e750d6e10dfb241cbad8f21_2238928_1024x0_resize_q75_box.jpg 1024w"
				width="4032"
				height="2691"
				loading="lazy"
				alt="Inside the casing">
		</a>
		
		<figcaption>Inside the casing</figcaption>
		
	</figure></p>
<h4 id="3d-printed">3D Printed</h4>
<p>Cut the cardboard to be the same size as the keys.
Cut the copper tape to 1 inch by 1/4 inch.
<figure style="flex-grow: 133; flex-basis: 320px">
		<a href="/ps70/posts/finalproject/25tape.jpg" data-size="4032x3024"><img src="/ps70/posts/finalproject/25tape.jpg"
				srcset="/ps70/posts/finalproject/25tape_hua55cca6f9c171e1dd9714c908d3b581a_1371871_480x0_resize_q75_box.jpg 480w, /ps70/posts/finalproject/25tape_hua55cca6f9c171e1dd9714c908d3b581a_1371871_1024x0_resize_q75_box.jpg 1024w"
				width="4032"
				height="3024"
				loading="lazy"
				alt="Construct 25 sensors">
		</a>
		
		<figcaption>Construct 25 sensors</figcaption>
		
	</figure></p>
<p>Compare to the keys, which will be the case over the copper tape sensors.
<img src="25key.jpg" alt="MIDI keys interior"  /></p>
<h4 id="hand-made">Hand-made</h4>
<ul>
<li>measurements</li>
</ul>
<h2 id="limitations">Limitations</h2>
<p>Not enough digital inputs on the microcontroller.
Ran out of resistors of the same ohm resistance.</p>
<h2 id="midi--capacitive-touch">MIDI &amp; Capacitive Touch</h2>
<p>I wrote custom code to measure capacitive touch and turn that data into midi data to use in a DAW!
First, I set up my circuit like so (this is something we went over in earlier weeks):</p>
<p><img src="capactive.jpg" alt="Capacitive sensor"  /></p>
<p>I used the Arduino CapacitiveSensor library.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;CapacitiveSensor.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span>
CapacitiveSensor Sensor <span style="color:#f92672">=</span> CapacitiveSensor(<span style="color:#ae81ff">7</span>,<span style="color:#ae81ff">5</span>);  <span style="color:#75715e">//7 is charge pin.  5 is sense pin.
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setup</span>(){
  Serial.begin(<span style="color:#ae81ff">115200</span>);<span style="color:#75715e">//initialize Serial connection
</span><span style="color:#75715e"></span>}
<span style="color:#66d9ef">void</span> <span style="color:#a6e22e">loop</span>(){
  <span style="color:#66d9ef">long</span> sensorValue <span style="color:#f92672">=</span> Sensor.capacitiveSensor(<span style="color:#ae81ff">1000</span>);
  Serial.println(sensorValue);
}
</code></pre></div><p>The idea was that when the sensor outputs beyond a certain threshold, a midi note would be sent as output. When the capacitive sensor is below a certain threshold, the midi note is no longer playing. The capacitive sensor has more flexibility and versatility than the button midi circuit I built last week. This is because copper tape capacitive sensoring is not a binary, but is a function of how much resistance I am putting on the tape! Because of this, I could control velocity of my midi output. (note: velocity in the context of MIDI is a synonym to loudness). I also accounted for this in my code. 127 represents the loudest a midi note can be tagged for. 0 is the smallest. My approach was to first test the range of numbers outputted by the capacitive sensor, and wrote in threshold values according to what was reasonable. For the current setup, I decided to use 40000 as the high threshold, 20000 as a medium threshold, and 1000 as a low threshold. These would in turn represent high, low, and medium velocities, respectfully. These numbers were set to variables so that the threshold values can be easily manipulated based on the sensor sensitivity.</p>
<p><a class="link" href="https://computermusicresource.com/MIDI.Commands.html"  target="_blank" rel="noopener"
    >MIDI commands</a></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;CapacitiveSensor.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span>
CapacitiveSensor Sensor <span style="color:#f92672">=</span> CapacitiveSensor(<span style="color:#ae81ff">7</span>,<span style="color:#ae81ff">5</span>);  <span style="color:#75715e">//7 is charge pin.  5 is sense pin.
</span><span style="color:#75715e"></span>byte noteON <span style="color:#f92672">=</span> <span style="color:#ae81ff">144</span>; <span style="color:#75715e">// MIDI command for turning a note on
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">long</span> currentState <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; <span style="color:#75715e">//stores current state
</span><span style="color:#75715e"></span><span style="color:#66d9ef">long</span> lastState <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;    <span style="color:#75715e">//stores last state
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setup</span>(){
  Serial.begin(<span style="color:#ae81ff">115200</span>);<span style="color:#75715e">//initialize Serial connection
</span><span style="color:#75715e"></span>}

<span style="color:#66d9ef">void</span> <span style="color:#a6e22e">loop</span>(){
  <span style="color:#66d9ef">long</span> sensorValue <span style="color:#f92672">=</span> Sensor.capacitiveSensor(<span style="color:#ae81ff">1000</span>);
  sensorValue <span style="color:#f92672">=</span> map(sensorValue, <span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">300000</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">127</span>);
  currentState <span style="color:#f92672">=</span> sensorValue;
  <span style="color:#66d9ef">int</span> high <span style="color:#f92672">=</span> <span style="color:#ae81ff">30</span>;
  <span style="color:#66d9ef">int</span> low <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
  <span style="color:#66d9ef">if</span> (currentState <span style="color:#f92672">&gt;</span> high  <span style="color:#f92672">&amp;&amp;</span> lastState <span style="color:#f92672">==</span> low){
    MIDImessage(noteON, <span style="color:#ae81ff">60</span>, <span style="color:#ae81ff">127</span>);<span style="color:#75715e">//turn on note 60 with 127 velocity
</span><span style="color:#75715e"></span>    delay(<span style="color:#ae81ff">200</span>); <span style="color:#75715e">// debouncing
</span><span style="color:#75715e"></span>  } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span>(currentState <span style="color:#f92672">&lt;=</span> high  <span style="color:#f92672">&amp;&amp;</span> lastState <span style="color:#f92672">==</span> low){
    MIDImessage(noteON, <span style="color:#ae81ff">62</span>, <span style="color:#ae81ff">0</span>); <span style="color:#75715e">//turn off note 60
</span><span style="color:#75715e"></span>    delay(<span style="color:#ae81ff">10</span>); <span style="color:#75715e">// debouncing
</span><span style="color:#75715e"></span>  }
  lastState <span style="color:#f92672">=</span> currentState;
}
</code></pre></div><h2 id="fixing-the-midi-not-saving-issue">Fixing the MIDI not-saving issue</h2>
<p>The issue was that the serial port was outputting values that were too high. That&rsquo;s why it was outputting junk, as shown below.
This problem was address by mapping the values to a certain range. By doing so, the values generated by the capacitive sensor are converted to a better, workable range.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp">  <span style="color:#66d9ef">long</span> sensorValue <span style="color:#f92672">=</span> Sensor.capacitiveSensor(<span style="color:#ae81ff">1000</span>);
  sensorValue <span style="color:#f92672">=</span> map(sensorValue, <span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">1000000</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">127</span>);
</code></pre></div><p>I also made variables for the high and low values in order to abstract some of the code.
I cleaned up and condensed the code as well.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp">
byte noteON <span style="color:#f92672">=</span> <span style="color:#ae81ff">144</span>;<span style="color:#75715e">//note on command
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">long</span> currentState <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;<span style="color:#75715e">//storage for current state
</span><span style="color:#75715e"></span><span style="color:#66d9ef">long</span> lastState <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;<span style="color:#75715e">//storage for last state
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setup</span>(){
  Serial.begin(<span style="color:#ae81ff">115200</span>);<span style="color:#75715e">//initialize Serial connection
</span><span style="color:#75715e"></span>}
<span style="color:#66d9ef">void</span> <span style="color:#a6e22e">loop</span>(){
  <span style="color:#66d9ef">long</span> sensorValue <span style="color:#f92672">=</span> Sensor.capacitiveSensor(<span style="color:#ae81ff">1000</span>);
  sensorValue <span style="color:#f92672">=</span> map(sensorValue, <span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">1000000</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">127</span>);
  <span style="color:#75715e">//map sensor value and go into trackable 
</span><span style="color:#75715e"></span>  <span style="color:#75715e">// put a plateau on a value/upper threshold
</span><span style="color:#75715e"></span>
  currentState <span style="color:#f92672">=</span> sensorValue;
  <span style="color:#66d9ef">int</span> high <span style="color:#f92672">=</span> <span style="color:#ae81ff">50</span>;
  <span style="color:#66d9ef">int</span> low <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
  <span style="color:#66d9ef">if</span> (currentState <span style="color:#f92672">&gt;</span> high  <span style="color:#f92672">&amp;&amp;</span> lastState <span style="color:#f92672">==</span> low){
    MIDImessage(noteON, <span style="color:#ae81ff">60</span>, <span style="color:#ae81ff">127</span>);<span style="color:#75715e">//turn note 60 on with 127 velocity
</span><span style="color:#75715e"></span>    delay(<span style="color:#ae81ff">200</span>);<span style="color:#75715e">//crude form of button debouncing
</span><span style="color:#75715e"></span>  } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span>(currentState <span style="color:#f92672">&lt;=</span> high  <span style="color:#f92672">&amp;&amp;</span> lastState <span style="color:#f92672">==</span> low){
    MIDImessage(noteON, <span style="color:#ae81ff">60</span>, <span style="color:#ae81ff">0</span>);<span style="color:#75715e">//turn note 60 off
</span><span style="color:#75715e"></span>    delay(<span style="color:#ae81ff">10</span>);<span style="color:#75715e">//crude form of button debouncing
</span><span style="color:#75715e"></span>  }
  lastState <span style="color:#f92672">=</span> currentState;

<span style="color:#75715e">//  Serial.println(sensorValue); // Debugging
</span><span style="color:#75715e">//  Serial.println(currentState);
</span><span style="color:#75715e"></span>}
<span style="color:#75715e">//send MIDI message
</span><span style="color:#75715e"></span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">MIDImessage</span>(byte command, byte data1, byte data2) {
  Serial.write(command);
  Serial.write(data1);
  Serial.write(data2);
}
</code></pre></div><p>Here is now the functional capacitive touch (using copper tape) midi control!

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe loading="lazy" src="https://www.youtube.com/embed/-aQzK6Gf9UI" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>
</p>
<p>I have now gotten a button and a single square of copper tape to both transmit MIDI data to my DAW. Now, I need to expand this to multiple inputs, i.e. 12 pieces of copper tape. Each sensor should correspond to a specific note on the Western chormatic scale. In order to do this, I not only need to add more sensors to the circuit, but I need to modify the code so that it can send multiple instances of MIDI data.</p>
<h2 id="may-11-update">May 11 update</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#75715e">// global assignments
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">int</span> c <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; 
  <span style="color:#66d9ef">int</span> d <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; 
  <span style="color:#66d9ef">int</span> e <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>;
  <span style="color:#66d9ef">int</span> f <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>;
  <span style="color:#66d9ef">int</span> g <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span>;
  <span style="color:#66d9ef">int</span> a <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>;
  <span style="color:#66d9ef">int</span> b <span style="color:#f92672">=</span> <span style="color:#ae81ff">6</span>;
  
<span style="color:#75715e">// example: getnoteValue(c, false, 0); returns 60, which is C4
</span><span style="color:#75715e">// this function gets midi value of a note (where note is a number from 0-6 that represents white keys)
</span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">getNoteValue</span>(<span style="color:#66d9ef">int</span> note, <span style="color:#66d9ef">bool</span> sharp <span style="color:#f92672">=</span> false, <span style="color:#66d9ef">int</span> octave <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>) { <span style="color:#75715e">// optional parameters. -1 is lower, 1 is upper
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">int</span> tones[] <span style="color:#f92672">=</span> { <span style="color:#ae81ff">60</span>, <span style="color:#ae81ff">62</span>, <span style="color:#ae81ff">64</span>, <span style="color:#ae81ff">65</span>, <span style="color:#ae81ff">67</span>, <span style="color:#ae81ff">69</span>, <span style="color:#ae81ff">71</span> }; <span style="color:#75715e">// natural notes in C4  
</span><span style="color:#75715e"></span>  
  <span style="color:#66d9ef">int</span> midiVal <span style="color:#f92672">=</span> tones[note]; <span style="color:#75715e">// default
</span><span style="color:#75715e"></span>  
  <span style="color:#75715e">// run modifications as needed
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">if</span> (sharp) {
    midiVal<span style="color:#f92672">++</span>;
  }
  <span style="color:#66d9ef">if</span> (octave <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>) {
    midiVal <span style="color:#f92672">+=</span> <span style="color:#ae81ff">12</span>;
  }
  <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (octave <span style="color:#f92672">==</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>) {
    midiVal <span style="color:#f92672">-=</span> <span style="color:#ae81ff">12</span>;
  }
  <span style="color:#66d9ef">return</span> midiVal; 
}
</code></pre></div><p>Multiple inputs:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;CapacitiveSensor.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span>
CapacitiveSensor Sensor <span style="color:#f92672">=</span> CapacitiveSensor(<span style="color:#ae81ff">13</span>,<span style="color:#ae81ff">0</span>);  <span style="color:#75715e">//7 is charge pin.  5 is sense pin.
</span><span style="color:#75715e"></span>CapacitiveSensor Sensor2 <span style="color:#f92672">=</span> CapacitiveSensor(<span style="color:#ae81ff">13</span>,<span style="color:#ae81ff">1</span>);  
CapacitiveSensor Sensor3 <span style="color:#f92672">=</span> CapacitiveSensor(<span style="color:#ae81ff">13</span>,<span style="color:#ae81ff">2</span>);  
CapacitiveSensor Sensor4 <span style="color:#f92672">=</span> CapacitiveSensor(<span style="color:#ae81ff">13</span>,<span style="color:#ae81ff">3</span>);  
CapacitiveSensor Sensor5 <span style="color:#f92672">=</span> CapacitiveSensor(<span style="color:#ae81ff">13</span>,<span style="color:#ae81ff">4</span>);  
CapacitiveSensor Sensor6 <span style="color:#f92672">=</span> CapacitiveSensor(<span style="color:#ae81ff">13</span>,<span style="color:#ae81ff">5</span>);  
CapacitiveSensor Sensor7 <span style="color:#f92672">=</span> CapacitiveSensor(<span style="color:#ae81ff">13</span>,<span style="color:#ae81ff">6</span>); 
CapacitiveSensor Sensor8 <span style="color:#f92672">=</span> CapacitiveSensor(<span style="color:#ae81ff">13</span>,<span style="color:#ae81ff">7</span>);  
CapacitiveSensor Sensor9 <span style="color:#f92672">=</span> CapacitiveSensor(<span style="color:#ae81ff">13</span>,<span style="color:#ae81ff">8</span>);  
CapacitiveSensor Sensor10 <span style="color:#f92672">=</span> CapacitiveSensor(<span style="color:#ae81ff">13</span>,<span style="color:#ae81ff">9</span>); 
CapacitiveSensor Sensor11 <span style="color:#f92672">=</span> CapacitiveSensor(<span style="color:#ae81ff">13</span>,<span style="color:#ae81ff">10</span>);  
CapacitiveSensor Sensor12 <span style="color:#f92672">=</span> CapacitiveSensor(<span style="color:#ae81ff">13</span>,<span style="color:#ae81ff">11</span>); 
CapacitiveSensor Sensor13 <span style="color:#f92672">=</span> CapacitiveSensor(<span style="color:#ae81ff">13</span>,<span style="color:#ae81ff">12</span>);  

byte noteON <span style="color:#f92672">=</span> <span style="color:#ae81ff">144</span>;<span style="color:#75715e">//note on command
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">long</span> currentState <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;<span style="color:#75715e">//stroage for current state
</span><span style="color:#75715e"></span><span style="color:#66d9ef">long</span> lastState <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;<span style="color:#75715e">//storage for last state
</span><span style="color:#75715e"></span><span style="color:#66d9ef">long</span> currentState2 <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
<span style="color:#66d9ef">long</span> lastState2 <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
<span style="color:#66d9ef">long</span> currentState3 <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
<span style="color:#66d9ef">long</span> lastState3 <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
<span style="color:#66d9ef">long</span> currentState4 <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
<span style="color:#66d9ef">long</span> lastState4 <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
<span style="color:#66d9ef">long</span> currentState5 <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
<span style="color:#66d9ef">long</span> lastState5 <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
<span style="color:#66d9ef">long</span> currentState6 <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
<span style="color:#66d9ef">long</span> lastState6 <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
<span style="color:#66d9ef">long</span> currentState7 <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
<span style="color:#66d9ef">long</span> lastState7 <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
<span style="color:#66d9ef">long</span> currentState8 <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
<span style="color:#66d9ef">long</span> lastState8 <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
<span style="color:#66d9ef">long</span> currentState9 <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
<span style="color:#66d9ef">long</span> lastState9 <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
<span style="color:#66d9ef">long</span> currentState10 <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
<span style="color:#66d9ef">long</span> lastState10 <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
<span style="color:#66d9ef">long</span> currentState11 <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
<span style="color:#66d9ef">long</span> lastState11 <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
<span style="color:#66d9ef">long</span> currentState12 <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
<span style="color:#66d9ef">long</span> lastState12 <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
<span style="color:#66d9ef">long</span> currentState13 <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
<span style="color:#66d9ef">long</span> lastState13 <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;

<span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setup</span>(){
  Serial.begin(<span style="color:#ae81ff">115200</span>);<span style="color:#75715e">//initialize Serial connection
</span><span style="color:#75715e"></span>}

<span style="color:#66d9ef">void</span> <span style="color:#a6e22e">loop</span>(){
  <span style="color:#66d9ef">long</span> sensorValue <span style="color:#f92672">=</span> Sensor.capacitiveSensor(<span style="color:#ae81ff">1000</span>);
  sensorValue <span style="color:#f92672">=</span> map(sensorValue, <span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">5000</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">127</span>);
  <span style="color:#66d9ef">long</span> sensorValue2 <span style="color:#f92672">=</span> Sensor2.capacitiveSensor(<span style="color:#ae81ff">1000</span>);
  sensorValue2 <span style="color:#f92672">=</span> map(sensorValue2, <span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">5000</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">127</span>);
  <span style="color:#66d9ef">long</span> sensorValue3 <span style="color:#f92672">=</span> Sensor3.capacitiveSensor(<span style="color:#ae81ff">1000</span>);
  sensorValue3 <span style="color:#f92672">=</span> map(sensorValue3, <span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">5000</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">127</span>);
  <span style="color:#66d9ef">long</span> sensorValue4 <span style="color:#f92672">=</span> Sensor4.capacitiveSensor(<span style="color:#ae81ff">1000</span>);
  sensorValue4 <span style="color:#f92672">=</span> map(sensorValue4, <span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">5000</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">127</span>);
  <span style="color:#66d9ef">long</span> sensorValue5 <span style="color:#f92672">=</span> Sensor5.capacitiveSensor(<span style="color:#ae81ff">1000</span>);
  sensorValue5 <span style="color:#f92672">=</span> map(sensorValue5, <span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">5000</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">127</span>);
  <span style="color:#66d9ef">long</span> sensorValue6 <span style="color:#f92672">=</span> Sensor6.capacitiveSensor(<span style="color:#ae81ff">1000</span>);
  sensorValue6 <span style="color:#f92672">=</span> map(sensorValue6, <span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">5000</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">127</span>);
  <span style="color:#66d9ef">long</span> sensorValue7 <span style="color:#f92672">=</span> Sensor7.capacitiveSensor(<span style="color:#ae81ff">1000</span>);
  sensorValue7 <span style="color:#f92672">=</span> map(sensorValue7, <span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">5000</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">127</span>);
  <span style="color:#66d9ef">long</span> sensorValue8 <span style="color:#f92672">=</span> Sensor8.capacitiveSensor(<span style="color:#ae81ff">1000</span>);
  sensorValue8 <span style="color:#f92672">=</span> map(sensorValue8, <span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">5000</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">127</span>);
    <span style="color:#66d9ef">long</span> sensorValue9 <span style="color:#f92672">=</span> Sensor9.capacitiveSensor(<span style="color:#ae81ff">1000</span>);
  sensorValue9 <span style="color:#f92672">=</span> map(sensorValue9, <span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">5000</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">127</span>);
  <span style="color:#66d9ef">long</span> sensorValue10 <span style="color:#f92672">=</span> Sensor10.capacitiveSensor(<span style="color:#ae81ff">1000</span>);
  sensorValue10 <span style="color:#f92672">=</span> map(sensorValue10, <span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">5000</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">127</span>);
    <span style="color:#66d9ef">long</span> sensorValue11 <span style="color:#f92672">=</span> Sensor11.capacitiveSensor(<span style="color:#ae81ff">1000</span>);
  sensorValue11 <span style="color:#f92672">=</span> map(sensorValue11, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">10000</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">127</span>);
    <span style="color:#66d9ef">long</span> sensorValue12 <span style="color:#f92672">=</span> Sensor12.capacitiveSensor(<span style="color:#ae81ff">1000</span>);
  sensorValue12 <span style="color:#f92672">=</span> map(sensorValue12, <span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">10000</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">127</span>);
  <span style="color:#66d9ef">long</span> sensorValue13 <span style="color:#f92672">=</span> Sensor13.capacitiveSensor(<span style="color:#ae81ff">1000</span>);
  sensorValue13 <span style="color:#f92672">=</span> map(sensorValue13, <span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">10000</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">127</span>);

  <span style="color:#75715e">//map sensor value and go into trackable 
</span><span style="color:#75715e"></span>  <span style="color:#75715e">// put a plateau on a value/upper threshold
</span><span style="color:#75715e"></span>
  currentState <span style="color:#f92672">=</span> sensorValue;
  currentState2 <span style="color:#f92672">=</span> sensorValue2;
  currentState3 <span style="color:#f92672">=</span> sensorValue3;
  currentState4 <span style="color:#f92672">=</span> sensorValue4;
    currentState5 <span style="color:#f92672">=</span> sensorValue5;
  currentState6 <span style="color:#f92672">=</span> sensorValue6;
  currentState7 <span style="color:#f92672">=</span> sensorValue7;
    currentState8 <span style="color:#f92672">=</span> sensorValue8;
  currentState9 <span style="color:#f92672">=</span> sensorValue9;
  currentState10 <span style="color:#f92672">=</span> sensorValue10;
      currentState11 <span style="color:#f92672">=</span> sensorValue11;
  currentState12 <span style="color:#f92672">=</span> sensorValue12;
  currentState13 <span style="color:#f92672">=</span> sensorValue13;
  <span style="color:#66d9ef">int</span> high <span style="color:#f92672">=</span> <span style="color:#ae81ff">8</span>;
  <span style="color:#66d9ef">int</span> low <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>;

  <span style="color:#66d9ef">if</span> (currentState <span style="color:#f92672">&gt;</span> high  <span style="color:#f92672">&amp;&amp;</span> lastState <span style="color:#f92672">&lt;</span> low){
    MIDImessage(noteON, <span style="color:#ae81ff">60</span>, <span style="color:#ae81ff">127</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>);<span style="color:#75715e">//turn note 60 on with 127 velocity
</span><span style="color:#75715e"></span>    delay(<span style="color:#ae81ff">10</span>);<span style="color:#75715e">//crude form of button debouncing
</span><span style="color:#75715e"></span>  } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span>(currentState <span style="color:#f92672">&lt;=</span> high  <span style="color:#f92672">&amp;&amp;</span> lastState <span style="color:#f92672">&lt;</span> low){
    MIDImessage(noteON, <span style="color:#ae81ff">60</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>);<span style="color:#75715e">//turn note 60 off
</span><span style="color:#75715e"></span>    delay(<span style="color:#ae81ff">10</span>);<span style="color:#75715e">//crude form of button debouncing
</span><span style="color:#75715e"></span>  }
  lastState <span style="color:#f92672">=</span> currentState;
  <span style="color:#66d9ef">if</span> (currentState2 <span style="color:#f92672">&gt;</span> high  <span style="color:#f92672">&amp;&amp;</span> lastState2 <span style="color:#f92672">&lt;</span> low){
    MIDImessage(noteON, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">61</span>, <span style="color:#ae81ff">127</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>);<span style="color:#75715e">//turn note 60 on with 127 velocity
</span><span style="color:#75715e"></span>    delay(<span style="color:#ae81ff">10</span>);<span style="color:#75715e">//crude form of button debouncing
</span><span style="color:#75715e"></span>  } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span>(currentState2 <span style="color:#f92672">&lt;=</span> high  <span style="color:#f92672">&amp;&amp;</span> lastState2 <span style="color:#f92672">&lt;</span> low){
    MIDImessage(noteON, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">61</span>, <span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>);<span style="color:#75715e">//turn note 60 off
</span><span style="color:#75715e"></span>    delay(<span style="color:#ae81ff">10</span>);<span style="color:#75715e">//crude form of button debouncing
</span><span style="color:#75715e"></span>  }
  lastState2 <span style="color:#f92672">=</span> currentState2;
    <span style="color:#66d9ef">if</span> (currentState3<span style="color:#f92672">&gt;</span> high  <span style="color:#f92672">&amp;&amp;</span> lastState3 <span style="color:#f92672">&lt;</span> low){
    MIDImessage(noteON, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">62</span>, <span style="color:#ae81ff">127</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>);<span style="color:#75715e">//turn note 60 on with 127 velocity
</span><span style="color:#75715e"></span>    delay(<span style="color:#ae81ff">10</span>);<span style="color:#75715e">//crude form of button debouncing
</span><span style="color:#75715e"></span>  } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span>(currentState3 <span style="color:#f92672">&lt;=</span> high  <span style="color:#f92672">&amp;&amp;</span> lastState3 <span style="color:#f92672">&lt;</span> low){
    MIDImessage(noteON, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">62</span>, <span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>);<span style="color:#75715e">//turn note 60 off
</span><span style="color:#75715e"></span>    delay(<span style="color:#ae81ff">10</span>);<span style="color:#75715e">//crude form of button debouncing
</span><span style="color:#75715e"></span>  }
  lastState3 <span style="color:#f92672">=</span> currentState3;
    <span style="color:#66d9ef">if</span> (currentState4 <span style="color:#f92672">&gt;</span> high  <span style="color:#f92672">&amp;&amp;</span> lastState4 <span style="color:#f92672">&lt;</span> low){
    MIDImessage(noteON, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">63</span>, <span style="color:#ae81ff">127</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>);<span style="color:#75715e">//turn note 60 on with 127 velocity
</span><span style="color:#75715e"></span>    delay(<span style="color:#ae81ff">10</span>);<span style="color:#75715e">//crude form of button debouncing
</span><span style="color:#75715e"></span>  } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span>(currentState4 <span style="color:#f92672">&lt;=</span> high  <span style="color:#f92672">&amp;&amp;</span> lastState4 <span style="color:#f92672">&lt;</span> low){
    MIDImessage(noteON, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">63</span>, <span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>);<span style="color:#75715e">//turn note 60 off
</span><span style="color:#75715e"></span>    delay(<span style="color:#ae81ff">10</span>);<span style="color:#75715e">//crude form of button debouncing
</span><span style="color:#75715e"></span>  }
  lastState4 <span style="color:#f92672">=</span> currentState4;
  
      <span style="color:#66d9ef">if</span> (currentState5 <span style="color:#f92672">&gt;</span> high  <span style="color:#f92672">&amp;&amp;</span> lastState5 <span style="color:#f92672">&lt;</span> low){
    MIDImessage(noteON, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">64</span>, <span style="color:#ae81ff">127</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>);<span style="color:#75715e">//turn note 60 on with 127 velocity
</span><span style="color:#75715e"></span>    delay(<span style="color:#ae81ff">10</span>);<span style="color:#75715e">//crude form of button debouncing
</span><span style="color:#75715e"></span>  } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span>(currentState5 <span style="color:#f92672">&lt;=</span> high  <span style="color:#f92672">&amp;&amp;</span> lastState5 <span style="color:#f92672">&lt;</span> low){
    MIDImessage(noteON, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">64</span>, <span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>);<span style="color:#75715e">//turn note 60 off
</span><span style="color:#75715e"></span>    delay(<span style="color:#ae81ff">10</span>);<span style="color:#75715e">//crude form of button debouncing
</span><span style="color:#75715e"></span>  }
    lastState5 <span style="color:#f92672">=</span> currentState5;
    
  <span style="color:#66d9ef">if</span> (currentState6 <span style="color:#f92672">&gt;</span> high  <span style="color:#f92672">&amp;&amp;</span> lastState6 <span style="color:#f92672">&lt;</span> low){
    MIDImessage(noteON, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">65</span>, <span style="color:#ae81ff">127</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>);<span style="color:#75715e">//turn note 60 on with 127 velocity
</span><span style="color:#75715e"></span>    delay(<span style="color:#ae81ff">10</span>);<span style="color:#75715e">//crude form of button debouncing
</span><span style="color:#75715e"></span>  } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span>(currentState6 <span style="color:#f92672">&lt;=</span> high  <span style="color:#f92672">&amp;&amp;</span> lastState6 <span style="color:#f92672">&lt;</span> low){
    MIDImessage(noteON, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">65</span>, <span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>);<span style="color:#75715e">//turn note 60 off
</span><span style="color:#75715e"></span>    delay(<span style="color:#ae81ff">10</span>);<span style="color:#75715e">//crude form of button debouncing
</span><span style="color:#75715e"></span>  }
  lastState6 <span style="color:#f92672">=</span> currentState6;

    <span style="color:#66d9ef">if</span> (currentState7 <span style="color:#f92672">&gt;</span> high  <span style="color:#f92672">&amp;&amp;</span> lastState7 <span style="color:#f92672">&lt;</span> low){
    MIDImessage(noteON, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">66</span>, <span style="color:#ae81ff">127</span>);<span style="color:#75715e">//turn note 60 on with 127 velocity
</span><span style="color:#75715e"></span>    delay(<span style="color:#ae81ff">10</span>);<span style="color:#75715e">//crude form of button debouncing
</span><span style="color:#75715e"></span>  } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span>(currentState7 <span style="color:#f92672">&lt;=</span> high  <span style="color:#f92672">&amp;&amp;</span> lastState7 <span style="color:#f92672">&lt;</span> low){
    MIDImessage(noteON, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">66</span>, <span style="color:#ae81ff">0</span>);<span style="color:#75715e">//turn note 60 off
</span><span style="color:#75715e"></span>    delay(<span style="color:#ae81ff">10</span>);<span style="color:#75715e">//crude form of button debouncing
</span><span style="color:#75715e"></span>  }
  lastState7 <span style="color:#f92672">=</span> currentState7;
 
    <span style="color:#66d9ef">if</span> (currentState8<span style="color:#f92672">&gt;</span> high  <span style="color:#f92672">&amp;&amp;</span> lastState8 <span style="color:#f92672">&lt;</span> low){
    MIDImessage(noteON, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">67</span>, <span style="color:#ae81ff">127</span>);<span style="color:#75715e">//turn note 60 on with 127 velocity
</span><span style="color:#75715e"></span>    delay(<span style="color:#ae81ff">10</span>);<span style="color:#75715e">//crude form of button debouncing
</span><span style="color:#75715e"></span>  } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span>(currentState8 <span style="color:#f92672">&lt;=</span> high  <span style="color:#f92672">&amp;&amp;</span> lastState8 <span style="color:#f92672">&lt;</span> low){
    MIDImessage(noteON, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">67</span>, <span style="color:#ae81ff">0</span>);<span style="color:#75715e">//turn note 60 off
</span><span style="color:#75715e"></span>    delay(<span style="color:#ae81ff">10</span>);<span style="color:#75715e">//crude form of button debouncing
</span><span style="color:#75715e"></span>  }
  lastState8 <span style="color:#f92672">=</span> currentState8;
    <span style="color:#66d9ef">if</span> (currentState9 <span style="color:#f92672">&gt;</span> high  <span style="color:#f92672">&amp;&amp;</span> lastState9 <span style="color:#f92672">&lt;</span> low){
    MIDImessage(noteON, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">68</span>, <span style="color:#ae81ff">127</span>);<span style="color:#75715e">//turn note 60 on with 127 velocity
</span><span style="color:#75715e"></span>    delay(<span style="color:#ae81ff">10</span>);<span style="color:#75715e">//crude form of button debouncing
</span><span style="color:#75715e"></span>  } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span>(currentState9 <span style="color:#f92672">&lt;=</span> high  <span style="color:#f92672">&amp;&amp;</span> lastState9 <span style="color:#f92672">&lt;</span> low){
    MIDImessage(noteON, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">68</span>, <span style="color:#ae81ff">0</span>);<span style="color:#75715e">//turn note 60 off
</span><span style="color:#75715e"></span>    delay(<span style="color:#ae81ff">10</span>);<span style="color:#75715e">//crude form of button debouncing
</span><span style="color:#75715e"></span>  }
  lastState9 <span style="color:#f92672">=</span> currentState9;

    <span style="color:#66d9ef">if</span> (currentState10 <span style="color:#f92672">&gt;</span> high  <span style="color:#f92672">&amp;&amp;</span> lastState10 <span style="color:#f92672">&lt;</span> low){
    MIDImessage(noteON, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">69</span>, <span style="color:#ae81ff">127</span>);<span style="color:#75715e">//turn note 60 on with 127 velocity
</span><span style="color:#75715e"></span>    delay(<span style="color:#ae81ff">10</span>);<span style="color:#75715e">//crude form of button debouncing
</span><span style="color:#75715e"></span>  } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span>(currentState10 <span style="color:#f92672">&lt;=</span> high  <span style="color:#f92672">&amp;&amp;</span> lastState10 <span style="color:#f92672">&lt;</span> low){
    MIDImessage(noteON, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">69</span>, <span style="color:#ae81ff">0</span>);<span style="color:#75715e">//turn note 60 off
</span><span style="color:#75715e"></span>    delay(<span style="color:#ae81ff">10</span>);<span style="color:#75715e">//crude form of button debouncing
</span><span style="color:#75715e"></span>  }
  lastState10 <span style="color:#f92672">=</span> currentState10;

      <span style="color:#66d9ef">if</span> (currentState11 <span style="color:#f92672">&gt;</span> high  <span style="color:#f92672">&amp;&amp;</span> lastState11 <span style="color:#f92672">&lt;</span> low){
    MIDImessage(noteON, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">70</span>, <span style="color:#ae81ff">127</span>);<span style="color:#75715e">//turn note 60 on with 127 velocity
</span><span style="color:#75715e"></span>    delay(<span style="color:#ae81ff">10</span>);<span style="color:#75715e">//crude form of button debouncing
</span><span style="color:#75715e"></span>  } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span>(currentState11 <span style="color:#f92672">&lt;=</span> high  <span style="color:#f92672">&amp;&amp;</span> lastState11 <span style="color:#f92672">&lt;</span> low){
    MIDImessage(noteON, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">70</span>, <span style="color:#ae81ff">0</span>);<span style="color:#75715e">//turn note 60 off
</span><span style="color:#75715e"></span>    delay(<span style="color:#ae81ff">10</span>);<span style="color:#75715e">//crude form of button debouncing
</span><span style="color:#75715e"></span>  }
  lastState11 <span style="color:#f92672">=</span> currentState11;

      <span style="color:#66d9ef">if</span> (currentState12 <span style="color:#f92672">&gt;</span> high  <span style="color:#f92672">&amp;&amp;</span> lastState12 <span style="color:#f92672">&lt;</span> low){
    MIDImessage(noteON, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">71</span>, <span style="color:#ae81ff">127</span>);<span style="color:#75715e">//turn note 60 on with 127 velocity
</span><span style="color:#75715e"></span>    delay(<span style="color:#ae81ff">10</span>);<span style="color:#75715e">//crude form of button debouncing
</span><span style="color:#75715e"></span>  } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span>(currentState12 <span style="color:#f92672">&lt;=</span> high  <span style="color:#f92672">&amp;&amp;</span> lastState12 <span style="color:#f92672">&lt;</span> low){
    MIDImessage(noteON, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">71</span>, <span style="color:#ae81ff">0</span>);<span style="color:#75715e">//turn note 60 off
</span><span style="color:#75715e"></span>    delay(<span style="color:#ae81ff">10</span>);<span style="color:#75715e">//crude form of button debouncing
</span><span style="color:#75715e"></span>  }
  lastState12 <span style="color:#f92672">=</span> currentState12;

      <span style="color:#66d9ef">if</span> (currentState13 <span style="color:#f92672">&gt;</span> high  <span style="color:#f92672">&amp;&amp;</span> lastState13 <span style="color:#f92672">&lt;</span> low){
    MIDImessage(noteON, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">72</span>, <span style="color:#ae81ff">127</span>);<span style="color:#75715e">//turn note 60 on with 127 velocity
</span><span style="color:#75715e"></span>    delay(<span style="color:#ae81ff">10</span>);<span style="color:#75715e">//crude form of button debouncing
</span><span style="color:#75715e"></span>  } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span>(currentState13 <span style="color:#f92672">&lt;=</span> high  <span style="color:#f92672">&amp;&amp;</span> lastState13 <span style="color:#f92672">&lt;</span> low){
    MIDImessage(noteON, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">72</span>, <span style="color:#ae81ff">0</span>);<span style="color:#75715e">//turn note 60 off
</span><span style="color:#75715e"></span>    delay(<span style="color:#ae81ff">10</span>);<span style="color:#75715e">//crude form of button debouncing
</span><span style="color:#75715e"></span>  }
  lastState13 <span style="color:#f92672">=</span> currentState13;

  <span style="color:#75715e">// could use for loop
</span><span style="color:#75715e"></span>
<span style="color:#75715e">//  Serial.println(sensorValue); // Debugging
</span><span style="color:#75715e">//  Serial.print(&#34; , &#34;);
</span><span style="color:#75715e">//    Serial.println(sensorValue11); // Debugging
</span><span style="color:#75715e">//  Serial.println(sensorValue2); // Debugging
</span><span style="color:#75715e">////  Serial.println(currentState);
</span><span style="color:#75715e"></span>
}
<span style="color:#75715e">//send MIDI message
</span><span style="color:#75715e">//void MIDImessage(byte command, byte data1, byte data2, byte data3, byte data4, byte data5, byte data6) {
</span><span style="color:#75715e"></span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">MIDImessage</span>(byte command, byte data1, byte data2, byte data3, byte data4, byte data5, byte data6) {
  Serial.write(command);
  Serial.write(data1);
  Serial.write(data2);
  Serial.write(command);
  Serial.write(data3);
  Serial.write(data4);
  Serial.write(command);
  Serial.write(data5);
  Serial.write(data6);
}
</code></pre></div>
</section>


    <footer class="article-footer">
    

    </footer>

    
</article>

     
        
    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
        2021 JuHye Mun
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Theme <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="2.0.1">Stack</a></b> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>
    </section>
</footer>

    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"></script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css">

            </main>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js"
    integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g=" crossorigin="anonymous"></script><script type="text/javascript" src="/ps70/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
